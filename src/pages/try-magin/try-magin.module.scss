// Copyright rig√©lblu inc.
// All rights reserved.

// OPTIMIZE: use scss vars and calculate all below
// prettier-ignore
.mgn-preview {
  :global {
    .mgn-step {
      // Max Width
      @apply sm:max-w-[25rem];                                                          // 640w

      // Desktop
      @apply sm-min-h:max-h-[30rem];                                                    // 480 / 16 = 30
      @apply md-min-h:max-h-[37.5rem];                                                  // 600 / 16 = 37.5
      @apply lg:max-h-[48rem];                                                          // default and lg+: max(1024 / 16, 48) = 48

      // FIXME: `:global .device-ios` doesn't work, so have to include it each dom element
      &.device-ios {
        @apply iphone-se-min-h:max-h-[35.5rem];                                         // 568 / 16 = 35.5
        @apply iphone-8-min-h:max-h-[41.6875rem];                                       // 667 / 16 = 41.6875
        @apply iphone-8-plus-min-h:max-h-[46rem];                                       // 736 / 16 = 46

        @apply iphone-11-min-h:max-h-[56rem];                                           // 896 / 16 = 56
        @apply iphone-11-pro-min-h:max-h-[50.75rem];                                    // 812 / 16 = 50.75
        @apply iphone-11-promax-min-h:max-h-[56rem];                                    // 896 / 16 = 56

        @apply iphone-12-min-h:max-h-[52.75rem];                                        // 844 / 16 = 52.75
        @apply iphone-12-pro-min-h:max-h-[57.875rem];                                   // 926 / 16 = 57.875
        @apply iphone-12-mini-min-h:max-h-[48.75rem];                                   // 780 / 16 = 48.75

        @apply ipad-mini-min-h:max-h-[48rem];                                           // max(768 / 16, 55) = 48
        @apply ipad-pro-min-h:max-h-[52.125rem];                                        // max(834 / 16, 55) = 52.125
      }

      &.device-android {
        @apply pixel-5-min-h:max-h-[53.1875rem];                                        // 851 / 16 = 53.1875
        @apply galaxy-a-min-h:max-h-[57.125rem];                                        // 914 / 16 = 57.125
        @apply galaxy-8plus-min-h:max-h-[46.25rem];                                     // 740 / 16 = 46.25
        @apply galaxy-s20-ultra-min-h:max-h-[57.1875rem];                               // 915 / 16 = 57.1875
      }
    }

    .h-book {
      // Base for calculating all other screen sizes
      // Calculation: round up [(screen - browser status bar - browser nav bar - magin nav section) / (1rem in px) x (percent)]

      // Desktop, can ignore browser bars
      @apply sm-min-h:max-h-[17rem] sm-min-h:h-[17rem];                                 // (480 - 32) / 16 * 0.59 = 17
      @apply md-min-h:max-h-[21rem] md-min-h:h-[21rem];                                 // (600 - 32) / 16 * 0.59 = 21
      @apply lg-min-h:max-h-[27rem] lg-min-h:h-[27rem];                                 // default and lg+: (768 - 32) / 16 * 0.59 = 27

      &.device-ios {
        @apply iphone-se-min-h:max-h-[13rem] iphone-se-min-h:h-[13rem];                 // (568 - 44 - 140 - 32) / 16 * 0.59 = 13
        @apply iphone-8-min-h:max-h-[17rem] iphone-8-min-h:h-[17rem];                   // (667 - 44 - 140 - 32) / 16 * 0.59 = 17
        @apply iphone-8-plus-min-h:max-h-[19rem] iphone-8-plus-min-h:h-[19rem];         // (736 - 44 - 140 - 32) / 16 * 0.59 = 19

        @apply iphone-11-min-h:max-h-[25rem] iphone-11-min-h:h-[25rem];                 // (896 - 48 - 140 - 32) / 16 * 0.59 = 25
        @apply iphone-11-pro-min-h:max-h-[22rem] iphone-11-pro-min-h:h-[22rem];         // (812 - 48 - 140 - 32) / 16 * 0.59 = 22
        @apply iphone-11-promax-min-h:max-h-[25rem] iphone-11-promax-min-h:h-[25rem];   // (896 - 48 - 140 - 32) / 16 * 0.59 = 25

        @apply iphone-12-min-h:max-h-[23rem] iphone-12-min-h:h-[23rem];                 // (844 - 47 - 140 - 32) / 16 * 0.59 = 23
        @apply iphone-12-pro-min-h:max-h-[26rem] iphone-12-pro-min-h:h-[26rem];         // (926 - 47 - 140 - 32) / 16 * 0.59 = 26
        @apply iphone-12-mini-min-h:max-h-[21rem] iphone-12-mini-min-h:h-[21rem];       // (780 - 44 - 140 - 32) / 16 * 0.59 = 21

        @apply ipad-mini-min-h:max-h-[20rem] ipad-mini-min-h:h-[20rem];                 // (768 - 47 - 140 - 32) / 16 * 0.59 = 20
        @apply ipad-pro-min-h:max-h-[23rem] ipad-pro-min-h:h-[23rem];                   // (834 - 47 - 140 - 32) / 16 * 0.59 = 23
      }

      &.device-android {
        @apply pixel-5-min-h:max-h-[23rem] pixel-5-min-h:h-[23rem];                     // (851 - 47 - 140 - 32) / 16 * 0.59 = 23
        @apply galaxy-a-min-h:max-h-[26rem] galaxy-a-min-h:h-[26rem];                   // (914 - 47 - 140 - 32) / 16 * 0.59 = 26
        @apply galaxy-8plus-min-h:max-h-[19rem] galaxy-8plus-min-h:h-[19rem];           // (740 - 47 - 140 - 32) / 16 * 0.59 = 19
        @apply galaxy-s20-ultra-min-h:max-h-[26rem] galaxy-s20-ultra-min-h:h-[26rem];   // (915 - 47 - 140 - 32) / 16 * 0.59 = 26
      }
    }

    .h-guided-message {
      // TODO: h-[1rem] hides up arrow on try-magin/2. Check if we still need this
      // @apply h-[1rem] lg:min-h-[3rem];
      // TODO: add iphone, ipad, android phones
    }

    .h-film {
      // Base for calculating all other screen sizes
      // Calculation: round down nearest half [screen  - browser status bar - browser nav bar - magin nav section - guided section) / (1rem in px]

      // Desktop, can ignore browser bars
      @apply sm-min-h:max-h-[8.5rem] sm-min-h:h-[8.5rem];                               // (480 - 32) / 16 * 0.31 = 8.5
      @apply md-min-h:max-h-[11rem] md-min-h:h-[11rem];                                 // (600 - 32) / 16 * 0.31 = 11
      @apply lg-min-h:max-h-[14.5rem] lg-min-h:h-[14.5rem];                             // default and lg+: (768 - 32) / 16 * 0.31 = 14.5

      &.device-ios {
        @apply iphone-se-min-h:max-h-[7rem] iphone-se-min-h:h-[7rem];                   // (568 - 44 - 140 - 32) / 16 * 0.31 = 7
        @apply iphone-8-min-h:max-h-[8.7rem] iphone-8-min-h:h-[8.7rem];                 // (667 - 44 - 140 - 32) / 16 * 0.31 = 8.7
        @apply iphone-8-plus-min-h:max-h-[10rem] iphone-8-plus-min-h:h-[10rem];         // (736 - 44 - 140 - 32) / 16 * 0.31 = 10

        @apply iphone-11-min-h:max-h-[13rem] iphone-11-min-h:h-[13rem];                 // (896 - 48 - 140 - 32) / 16 * 0.31 = 13
        @apply iphone-11-pro-min-h:max-h-[11.5rem] iphone-11-pro-min-h:h-[11.5rem];     // (812 - 48 - 140 - 32) / 16 * 0.31 = 11.5
        @apply iphone-11-promax-min-h:max-h-[13rem] iphone-11-promax-min-h:h-[13rem];   // (896 - 48 - 140 - 32) / 16 * 0.31 = 13

        @apply iphone-12-min-h:max-h-[12rem] iphone-12-min-h:h-[12rem];                 // (844 - 47 - 140 - 32) / 16 * 0.31 = 12
        @apply iphone-12-pro-min-h:max-h-[13.5rem] iphone-12-pro-min-h:h-[13.5rem];     // (926 - 47 - 140 - 32) / 16 * 0.31 = 13.5
        @apply iphone-12-mini-min-h:max-h-[11rem] iphone-12-mini-min-h:h-[11rem];       // (780 - 47 - 140 - 32) / 16 * 0.31 = 11

        @apply ipad-mini-min-h:max-h-[10.5rem] ipad-mini-min-h:h-[10.5rem];             // (768 - 47 - 140 - 32) / 16 * 0.31 = 10.5
        @apply ipad-pro-min-h:max-h-[12rem] ipad-pro-min-h:h-[12rem];                   // (834 - 47 - 140 - 32) / 16 * 0.31 = 12
      }

      &.device-android {
        @apply pixel-5-min-h:max-h-[12rem] pixel-5-min-h:h-[12rem];                     // (851 - 47 - 140 - 32) / 16 * 0.31 = 12
        @apply galaxy-a-min-h:max-h-[13.5rem] galaxy-a-min-h:h-[13.5rem];               // (914 - 47 - 140 - 32) / 16 * 0.31 = 13.5
        @apply galaxy-8plus-min-h:max-h-[10rem] galaxy-8plus-min-h:h-[10rem];         // (740 - 47 - 140 - 32) / 16 * 0.31 = 10
        @apply galaxy-s20-ultra-min-h:max-h-[13.5rem] galaxy-s20-ultra-min-h:h-[13.5rem];   // (915 - 47 - 140 - 32) / 16 * 0.31 = 13.5
      }
    }
  }
}
