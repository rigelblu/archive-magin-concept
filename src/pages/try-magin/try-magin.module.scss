// Copyright rig√©lblu inc.
// All rights reserved.

// OPTIMIZE: use scss vars and calculate all below
// prettier-ignore
.mgn-preview {
  :global {
    .mgn-step {
      // Max Width
      @apply sm:max-w-[25rem];                                                        // 640w

      // Desktop
      @apply max-h-[48rem];                                                           // default and lg+: max(1024 / 16, 48) = 48
      @apply sm-min-h:max-h-[30rem];                                                  // 480 / 16 = 30
      @apply md-min-h:max-h-[37.5rem];                                                // 600 / 16 = 37.5

      // FIXME: `:global .device-ios .mgn-step` doesn't work

      @apply iphone-11-min-h:max-h-[56rem];                                           // 896 / 16 = 56
      @apply iphone-11-pro-min-h:max-h-[50.75rem];                                    // 812 / 16 = 50.75
      @apply iphone-11-promax-min-h:max-h-[56rem];                                    // 896 / 16 = 56

      @apply iphone-12-min-h:max-h-[52.75rem];                                        // 844 / 16 = 52.75
      @apply iphone-12-pro-min-h:max-h-[57.875rem];                                   // 926 / 16 = 57.875
      @apply iphone-12-mini-min-h:max-h-[48.75rem];                                   // 780 / 16 = 48.75

      @apply ipad-mini-min-h:max-h-[48rem];                                           // max(768 / 16, 55) = 48
      @apply ipad-pro-min-h:max-h-[52.125rem];                                        // max(834 / 16, 55) = 52.125

      // FIXME: `:global .device-android .mgn-step` doesn't work
      @apply pixel-5-min-h:max-h-[53.1875rem];                                        // 851 / 16 = 53.1875
      @apply galaxy-a-min-h:max-h-[57.125rem];                                        // 914 / 16 = 57.125
      @apply galaxy-8plus-min-h:max-h-[46.25rem];                                     // 740 / 16 = 46.25
      @apply galaxy-s20-ultra-min-h:max-h-[57.1875rem];                               // 915 / 16 = 57.1875
    }

    .h-book {
      // Base for calculating all other screen sizes
      // Calculation: round up [(screen  - browser status bar - browser nav bar - magin nav section) / (1rem in px) x (percent)]

      // Desktop
      @apply max-h-[24rem] h-[24rem];                                                 // default and xl+: (1024 - 44 - 140 - 32) / 16 * 0.77 = 24
      @apply sm-min-h:max-h-[8rem] sm-min-h:h-[8rem];                                 // (480 - 44 - 140 - 32) / 16 * 0.77 = 8
      @apply md-min-h:max-h-[18rem] md-min-h:h-[18rem];                               // (600 - 44 - 140 - 32) / 16 * 0.77 = 18
      @apply lg-min-h:max-h-[23rem] lg-min-h:h-[23rem];                               // (768 - 44 - 140 - 32) / 16 * 0.77 = 23

      // FIXME: `:global .device-ios .h-book` doesn't work

      @apply iphone-11-min-h:max-h-[33rem] iphone-11-min-h:h-[33rem];                 // (896 - 48 - 140 - 32) / 16 * 0.77 = 33
      @apply iphone-11-pro-min-h:max-h-[28rem] iphone-11-pro-min-h:h-[28rem];         // (812 - 48 - 140 - 32) / 16 * 0.77 = 28
      @apply iphone-11-promax-min-h:max-h-[33rem] iphone-11-promax-min-h:h-[33rem];   // (896 - 48 - 140 - 32) / 16 * 0.77 = 33

      @apply iphone-12-min-h:max-h-[30rem] iphone-12-min-h:h-[30rem];                 // (844 - 47 - 140 - 32) / 16 * 0.77 = 30
      @apply iphone-12-pro-min-h:max-h-[34rem] iphone-12-pro-min-h:h-[34rem];         // (926 - 47 - 140 - 32) / 16 * 0.77 = 34
      @apply iphone-12-mini-min-h:max-h-[27rem] iphone-12-mini-min-h:h-[27rem];       // (780 - 44 - 140 - 32) / 16 * 0.77 = 27

      @apply ipad-mini-min-h:max-h-[26rem] ipad-mini-min-h:h-[26rem];                 // (768 - 47 - 140 - 32) / 16 * 0.77 = 26
      @apply ipad-pro-min-h:max-h-[30rem] ipad-pro-min-h:h-[30rem];                   // (834 - 47 - 140 - 32) / 16 * 0.77 = 30

      // FIXME: `:global .device-android .h-book` doesn't work
      @apply pixel-5-min-h:max-h-[30rem] pixel-5-min-h:h-[30rem];                     // (851 - 47 - 140 - 32) / 16 * 0.77 = 30
      @apply galaxy-a-min-h:max-h-[33rem] galaxy-a-min-h:h-[33rem];                   // (914 - 47 - 140 - 32) / 16 * 0.77 = 33
      @apply galaxy-8plus-min-h:max-h-[25rem] galaxy-8plus-min-h:h-[25rem];           // (740 - 47 - 140 - 32) / 16 * 0.77 = 25
      @apply galaxy-s20-ultra-min-h:max-h-[33rem] galaxy-s20-ultra-min-h:h-[33rem];   // (915 - 47 - 140 - 32) / 16 * 0.77 = 33
    }

    .h-guided-message {
      // TODO: h-[1rem] hides up arrow on try-magin/2. Check if we still need this
      // @apply h-[1rem] lg:min-h-[3rem];
      // TODO: add iphone, ipad, android phones
    }

    .h-film {
      // Base for calculating all other screen sizes
      // Calculation: round down nearest half [screen  - browser status bar - browser nav bar - magin nav section - guided section) / (1rem in px]

      // Desktop
      @apply max-h-[11rem] h-[11rem];                                                 // default and xl+: (1024 - 44 - 140 - 32 - 16) / 16 * 0.23 = 11
      @apply sm-min-h:max-h-[3.5rem] sm-min-h:h-[3.5rem];                             // (480 - 44 - 140 - 32) / 16 * 0.23 = 3.5
      @apply md-min-h:max-h-[5.5rem] md-min-h:h-[5.5rem];                             // (600 - 44 - 140 - 32) / 16 * 0.23 = 5.5
      @apply lg-min-h:max-h-[8rem] lg-min-h:h-[8rem];                                 // (768 - 44 - 140 - 32) / 16 * 0.23 = 8

      // FIXME: `:global .device-ios .h-film` doesn't work

      @apply iphone-11-min-h:max-h-[9.5rem] iphone-11-min-h:h-[9.5rem];               // (896 - 48 - 140 - 32) / 16 * 0.23 = 9.5
      @apply iphone-11-pro-min-h:max-h-[8.5rem] iphone-11-pro-min-h:h-[8.5rem];       // (812 - 48 - 140 - 32) / 16 * 0.23 = 8.5
      @apply iphone-11-promax-min-h:max-h-[9.5rem] iphone-11-promax-min-h:h-[9.5rem]; // (896 - 48 - 140 - 32) / 16 * 0.23 = 9.5

      @apply iphone-12-min-h:max-h-[9rem] iphone-12-min-h:h-[9rem];                   // (844 - 47 - 140 - 32) / 16 * 0.23 = 9
      @apply iphone-12-pro-min-h:max-h-[10rem] iphone-12-pro-min-h:h-[10rem];         // (926 - 47 - 140 - 32) / 16 * 0.23 = 10
      @apply iphone-12-mini-min-h:max-h-[8rem] iphone-12-mini-min-h:h-[8rem];         // (780 - 44 - 140 - 32) / 16 * 0.23 = 8

      @apply ipad-mini-min-h:max-h-[7.5rem] ipad-mini-min-h:h-[7.5rem];               // (768 - 47 - 140 - 32) / 16 * 0.23 = 7.5
      @apply ipad-pro-min-h:max-h-[8.5rem] ipad-pro-min-h:h-[8.5rem];                 // (834 - 47 - 140 - 32) / 16 * 0.23 = 8.5

      // FIXME: `:global .device-apple .h-fulm` doesn't work
      @apply pixel-5-min-h:max-h-[9rem] pixel-5-min-h:h-[9rem];                       // (851 - 47 - 140 - 32) / 16 * 0.23 = 9
      @apply galaxy-a-min-h:max-h-[10rem] galaxy-a-min-h:h-[10rem];                   // (914 - 47 - 140 - 32) / 16 * 0.23 = 10
      @apply galaxy-8plus-min-h:max-h-[7.5rem] galaxy-8plus-min-h:h-[7.5rem];         // (740 - 47 - 140 - 32) / 16 * 0.23 = 7.5
      @apply galaxy-s20-ultra-min-h:max-h-[10rem] galaxy-s20-ultra-min-h:h-[10rem];   // (915 - 47 - 140 - 32) / 16 * 0.23 = 10
    }
  }
}
